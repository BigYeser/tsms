import{p as x}from"./pickBy.50baf076.js";import{L as M}from"./Layout.bdcd1320.js";import{t as $}from"./throttle.ee65906f.js";import{S as C,m as V}from"./SearchFilter.3595eeb0.js";import{P as j}from"./Pagination.fa6253cb.js";import{M as T}from"./Modal.c70ec9fc.js";import B from"./Show.08f29b50.js";import{m as N}from"./md5.2ef7b393.js";import{_ as O,r as m,o as a,c,a as e,t as n,b as d,e as f,F as b,j as L,d as p,h as S,f as A}from"./app.e4291721.js";import"./debounce.24ca7302.js";import"./Dropdown.e4833db7.js";import"./FlashMessages.08c95c70.js";const I={layout:M,components:{Pagination:j,SearchFilter:C,Modal:T,MeasurementComponent:B},props:{measurements:Object,filters:Object},metaInfo(){return{title:this.$tc("Measurement",2)}},data(){return{form:{search:this.filters.search,trashed:this.filters.trashed},sending:!1,confirm:!1,send_sms:!1,emailing:!1,message:null,dialogButtonText:null,dialogAction:null,dialogTitle:null,dialogBody:null,viewMeasurement:!1}},watch:{form:{handler:$(function(){let t=x(this.form);this.$inertia.replace(this.route("measurements",Object.keys(t).length?t:{remember:"forget"}))},250),deep:!0}},methods:{rowClicked(t){fetch(this.route("measurements.show",[t.id,N.exports(t.name)])+"?ajax=1").then(o=>{o.json().then(i=>{this.measurement=i,this.viewMeasurement=!0})}),console.log(this.viewMeasurement),console.log(this.measurement)},reset(){this.form=V(this.form,()=>null)},displayExtra(t){let o="";return Array.isArray(t)&&t.map((i,w)=>{for(let[l,r]of Object.entries(i))if(r&&r.includes("{")&&r.includes("}")&&r.includes(":")){o+=`<span class="inline-block"><strong>${l}</strong>: `;const _=JSON.parse(r);for(let[u,h]of Object.entries(_))h?o+=`<span class="inline-block text-green-600 ltr:mr-2 rtl:ml-2">&#10003; ${u},</span> `:o+=`<span class="inline-block text-red-500 ltr:mr-2 rtl:ml-2">&#10005; ${u},</span> `;o+="</span>"}else o+=`<span class="inline-block"><strong>${l}</strong>: ${r},</span> `}),o}}},F={class:"mb-6 mt-2 font-bold text-lg md:text-2xl"},P={class:"np mb-6 flex justify-between items-center"},D={class:"block text-gray-700"},E={class:"inline md:hidden"},R={class:"hidden md:inline"},U={class:"bg-white rounded shadow overflow-x-auto scroll-on-light"},q={class:"w-full whitespace-no-wrap leading-normal"},J={class:"text-left font-bold"},W={class:"px-6 pt-6 pb-4"},z={class:"px-6 pt-6 pb-4"},G={class:"px-6 pt-6 pb-4"},H={class:"px-6 pt-6 pb-4"},K={class:"px-6 pt-6 pb-4"},Q={class:"px-6 pt-6 pb-4",colspan:"2"},X=["onClick"],Y={class:"border-t px-6 py-4 w-56"},Z={class:"flex items-center"},ee={class:"border-t px-6 py-4 w-40"},te={key:0},se={class:"border-t px-6 py-4 w-48"},oe={key:0},ne={class:"border-t px-6 py-4 w-48"},le={key:0},re={class:"border-t px-6 py-4 w-48"},ae={key:0},ie={class:"border-t px-6 py-4 max-w-lg truncate"},ce={class:"border-t px-6 py-4 w-8"},de={key:0},me={class:"border-t px-6 py-4",colspan:"5"};function pe(t,o,i,w,l,r){const _=m("v-select"),u=m("search-filter"),h=m("Icons"),g=m("Link"),y=m("pagination"),v=m("MeasurementComponent"),k=m("Modal");return a(),c(b,null,[e("div",null,[e("h1",F,n(t.$tc("Measurement",2)),1),e("div",P,[d(u,{modelValue:l.form.search,"onUpdate:modelValue":o[1]||(o[1]=s=>l.form.search=s),class:"w-full max-w-md ltr:mr-4 rtl:ml-4",onReset:r.reset},{default:f(()=>[e("label",D,n(t.$t("Trashed")),1),d(_,{modelValue:l.form.trashed,"onUpdate:modelValue":o[0]||(o[0]=s=>l.form.trashed=s),options:[{value:"",label:"Not Trashed"},{value:"with",label:t.$t("With Trashed")},{value:"only",label:t.$t("Only Trashed")}],reduce:s=>s.value},null,8,["modelValue","options","reduce"])]),_:1},8,["modelValue","onReset"]),d(g,{class:"btn-gray",href:t.route("measurements.create")},{default:f(()=>[e("span",E,[d(h,{name:"add",class:"w-4 h-4 fill-white group-hover:fill-white"})]),e("span",R,n(t.$t("create_x",{x:t.$tc("Measurement")})),1)]),_:1},8,["href"])]),e("div",U,[e("table",q,[e("thead",null,[e("tr",J,[e("th",W,n(t.$t("Name")),1),e("th",z,n(t.$tc("Service")),1),e("th",G,n(t.$tc("Customer")),1),e("th",H,n(t.$tc("Price")),1),e("th",K,n(t.$tc("Appointment Time")),1),e("th",Q,n(t.$t("Description")),1)])]),e("tbody",null,[(a(!0),c(b,null,L(i.measurements.data,s=>(a(),c("tr",{key:s.id,onClick:he=>r.rowClicked(s),class:"cursor-pointer hover:bg-teal-200 focus-within:bg-teal-200"},[e("td",Y,[e("div",Z,[S(n(s.name)+" ",1),s.deleted_at?(a(),A(h,{key:0,name:"trash",class:"flex-shrink-0 w-3 h-3 fill-gray-400 ltr:ml-2 rtl:mr-2"})):p("",!0)])]),e("td",ee,[s.service_id?(a(),c("div",te,n(s.service),1)):p("",!0)]),e("td",se,[s.customer_id?(a(),c("div",oe,n(s.customer),1)):p("",!0)]),e("td",ne,[s.price?(a(),c("div",le,n(s.price),1)):p("",!0)]),e("td",re,[s.appointment?(a(),c("div",ae,n(s.appointment),1)):p("",!0)]),e("td",ie,n(s.measurement),1),e("td",ce,[d(h,{name:"cheveron-right",class:"block w-6 h-6 fill-gray-400 rtl:rotate"})])],8,X))),128)),i.measurements.data.length===0?(a(),c("tr",de,[e("td",me,n(t.$t("no_x_found",{x:t.$tc("Measurement")})),1)])):p("",!0)])])]),d(y,{links:i.measurements.links,meta:i.measurements.meta},null,8,["links","meta"])]),d(k,{show:l.viewMeasurement,"max-width":"2xl",closeable:!0,onClose:o[3]||(o[3]=s=>l.viewMeasurement=!1)},{default:f(()=>[d(v,{measurement:t.measurement,onClose:o[2]||(o[2]=()=>l.viewMeasurement=!1),notify:!0},null,8,["measurement"])]),_:1},8,["show"])],64)}const Ce=O(I,[["render",pe]]);export{Ce as default};
