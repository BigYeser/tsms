import{p as k}from"./pickBy.e138ab0c.js";import{L as w}from"./Layout.4b295109.js";import{t as g}from"./throttle.91e1ac95.js";import{S as x,m as $}from"./SearchFilter.bf7ba100.js";import{P as V}from"./Pagination.e5e1d703.js";import{_ as C,r as p,o as a,c as i,a as e,t as o,b as d,e as f,F as j,j as N,d as m,h as O,f as T}from"./app.40dc5925.js";import"./debounce.facfe939.js";import"./Dropdown.7314e43e.js";import"./FlashMessages.21572565.js";const B={layout:w,components:{Pagination:V,SearchFilter:x},props:{measurements:Object,filters:Object},metaInfo(){return{title:this.$tc("Measurement",2)}},data(){return{form:{search:this.filters.search,trashed:this.filters.trashed},service:{value:this.measurement.service.id,label:this.measurement.service.name},customer:{label:this.measurement.customer.name,value:this.measurement.customer.id},services:[],customers:[]}},watch:{form:{handler:g(function(){let t=k(this.form);this.$inertia.replace(this.route("measurements",Object.keys(t).length?t:{remember:"forget"}))},250),deep:!0}},methods:{rowClicked(t){this.$inertia.visit(this.route("measurements.edit",t))},reset(){this.form=$(this.form,()=>null)},displayExtra(t){let r="";return Array.isArray(t)&&t.map((c,b)=>{for(let[n,l]of Object.entries(c))if(l&&l.includes("{")&&l.includes("}")&&l.includes(":")){r+=`<span class="inline-block"><strong>${n}</strong>: `;const _=JSON.parse(l);for(let[u,h]of Object.entries(_))h?r+=`<span class="inline-block text-green-600 ltr:mr-2 rtl:ml-2">&#10003; ${u},</span> `:r+=`<span class="inline-block text-red-500 ltr:mr-2 rtl:ml-2">&#10005; ${u},</span> `;r+="</span>"}else r+=`<span class="inline-block"><strong>${n}</strong>: ${l},</span> `}),r}}},L={class:"mb-6 mt-2 font-bold text-lg md:text-2xl"},S={class:"np mb-6 flex justify-between items-center"},I={class:"block text-gray-700"},M={class:"inline md:hidden"},A={class:"hidden md:inline"},F={class:"bg-white rounded shadow overflow-x-auto scroll-on-light"},P={class:"w-full whitespace-no-wrap leading-normal"},D={class:"text-left font-bold"},E={class:"px-6 pt-6 pb-4"},R={class:"px-6 pt-6 pb-4"},U={class:"px-6 pt-6 pb-4"},q={class:"px-6 pt-6 pb-4"},J={class:"px-6 pt-6 pb-4"},W={class:"px-6 pt-6 pb-4",colspan:"2"},z=["onClick"],G={class:"border-t px-6 py-4 w-56"},H={class:"flex items-center"},K={class:"border-t px-6 py-4 w-40"},Q={key:0},X={class:"border-t px-6 py-4 w-48"},Y={key:0},Z={class:"border-t px-6 py-4 w-48"},ee={key:0},te={class:"border-t px-6 py-4 w-48"},se={key:0},oe={class:"border-t px-6 py-4 max-w-lg truncate"},re={class:"border-t px-6 py-4 w-8"},ne={key:0},le={class:"border-t px-6 py-4",colspan:"5"};function ae(t,r,c,b,n,l){const _=p("v-select"),u=p("search-filter"),h=p("Icons"),v=p("Link"),y=p("pagination");return a(),i("div",null,[e("h1",L,o(t.$tc("Measurement",2)),1),e("div",S,[d(u,{modelValue:n.form.search,"onUpdate:modelValue":r[1]||(r[1]=s=>n.form.search=s),class:"w-full max-w-md ltr:mr-4 rtl:ml-4",onReset:l.reset},{default:f(()=>[e("label",I,o(t.$t("Trashed")),1),d(_,{modelValue:n.form.trashed,"onUpdate:modelValue":r[0]||(r[0]=s=>n.form.trashed=s),options:[{value:"",label:"Not Trashed"},{value:"with",label:t.$t("With Trashed")},{value:"only",label:t.$t("Only Trashed")}],reduce:s=>s.value},null,8,["modelValue","options","reduce"])]),_:1},8,["modelValue","onReset"]),d(v,{class:"btn-gray",href:t.route("measurements.create")},{default:f(()=>[e("span",M,[d(h,{name:"add",class:"w-4 h-4 fill-white group-hover:fill-white"})]),e("span",A,o(t.$t("create_x",{x:t.$tc("Measurement")})),1)]),_:1},8,["href"])]),e("div",F,[e("table",P,[e("thead",null,[e("tr",D,[e("th",E,o(t.$t("Name")),1),e("th",R,o(t.$tc("Service")),1),e("th",U,o(t.$tc("Customer")),1),e("th",q,o(t.$tc("Price")),1),e("th",J,o(t.$tc("Appointment Time")),1),e("th",W,o(t.$t("Description")),1)])]),e("tbody",null,[(a(!0),i(j,null,N(c.measurements.data,s=>(a(),i("tr",{key:s.id,onClick:ie=>l.rowClicked(s.id),class:"cursor-pointer hover:bg-teal-200 focus-within:bg-teal-200"},[e("td",G,[e("div",H,[O(o(s.name)+" ",1),s.deleted_at?(a(),T(h,{key:0,name:"trash",class:"flex-shrink-0 w-3 h-3 fill-gray-400 ltr:ml-2 rtl:mr-2"})):m("",!0)])]),e("td",K,[s.service?(a(),i("div",Q,o(n.service.name),1)):m("",!0)]),e("td",X,[s.customer?(a(),i("div",Y,o(n.customer.name),1)):m("",!0)]),e("td",Z,[s.customer?(a(),i("div",ee,o(s.price),1)):m("",!0)]),e("td",te,[s.customer?(a(),i("div",se,o(s.appointment),1)):m("",!0)]),e("td",oe,o(s.measurement),1),e("td",re,[d(h,{name:"cheveron-right",class:"block w-6 h-6 fill-gray-400 rtl:rotate"})])],8,z))),128)),c.measurements.data.length===0?(a(),i("tr",ne,[e("td",le,o(t.$t("no_x_found",{x:t.$tc("Measurement")})),1)])):m("",!0)])])]),d(y,{links:c.measurements.links,meta:c.measurements.meta},null,8,["links","meta"])])}const ve=C(B,[["render",ae]]);export{ve as default};
