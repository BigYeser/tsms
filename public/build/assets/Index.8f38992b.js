import{p as w}from"./pickBy.91281881.js";import{L as g}from"./Layout.4e11d28c.js";import{t as v}from"./throttle.3e9519ac.js";import{S as x,m as $}from"./SearchFilter.6ee35f5c.js";import{P as V}from"./Pagination.6d51a984.js";import{m as j}from"./md5.2ef7b393.js";import{_ as C,r as m,o as l,c as i,a as t,t as o,b as d,e as f,F as N,j as O,d as h,h as T,f as B}from"./app.4b4f8505.js";import"./debounce.dcf1ff95.js";import"./Dropdown.66fc6542.js";import"./FlashMessages.a4d8668a.js";const L={layout:g,components:{Pagination:V,SearchFilter:x},props:{measurements:Object,filters:Object},metaInfo(){return{title:this.$tc("Measurement",2)}},data(){return{form:{search:this.filters.search,trashed:this.filters.trashed}}},watch:{form:{handler:v(function(){let e=w(this.form);this.$inertia.replace(this.route("measurements",Object.keys(e).length?e:{remember:"forget"}))},250),deep:!0}},methods:{rowClicked(e){console.log(e),fetch(this.route("measurements.show",[e.id,j.exports(e.name)])+"?ajax=1").then(r=>{r.json().then(a=>{this.measurement=a,this.viewMeasurement=!0})})},reset(){this.form=$(this.form,()=>null)},displayExtra(e){let r="";return Array.isArray(e)&&e.map((a,b)=>{for(let[c,n]of Object.entries(a))if(n&&n.includes("{")&&n.includes("}")&&n.includes(":")){r+=`<span class="inline-block"><strong>${c}</strong>: `;const u=JSON.parse(n);for(let[_,p]of Object.entries(u))p?r+=`<span class="inline-block text-green-600 ltr:mr-2 rtl:ml-2">&#10003; ${_},</span> `:r+=`<span class="inline-block text-red-500 ltr:mr-2 rtl:ml-2">&#10005; ${_},</span> `;r+="</span>"}else r+=`<span class="inline-block"><strong>${c}</strong>: ${n},</span> `}),r}}},M={class:"mb-6 mt-2 font-bold text-lg md:text-2xl"},S={class:"np mb-6 flex justify-between items-center"},I={class:"block text-gray-700"},A={class:"inline md:hidden"},F={class:"hidden md:inline"},P={class:"bg-white rounded shadow overflow-x-auto scroll-on-light"},D={class:"w-full whitespace-no-wrap leading-normal"},E={class:"text-left font-bold"},R={class:"px-6 pt-6 pb-4"},U={class:"px-6 pt-6 pb-4"},q={class:"px-6 pt-6 pb-4"},J={class:"px-6 pt-6 pb-4"},W={class:"px-6 pt-6 pb-4"},z={class:"px-6 pt-6 pb-4",colspan:"2"},G=["onClick"],H={class:"border-t px-6 py-4 w-56"},K={class:"flex items-center"},Q={class:"border-t px-6 py-4 w-40"},X={key:0},Y={class:"border-t px-6 py-4 w-48"},Z={key:0},ee={class:"border-t px-6 py-4 w-48"},te={key:0},se={class:"border-t px-6 py-4 w-48"},oe={key:0},re={class:"border-t px-6 py-4 max-w-lg truncate"},ne={class:"border-t px-6 py-4 w-8"},le={key:0},ae={class:"border-t px-6 py-4",colspan:"5"};function ie(e,r,a,b,c,n){const u=m("v-select"),_=m("search-filter"),p=m("Icons"),y=m("Link"),k=m("pagination");return l(),i("div",null,[t("h1",M,o(e.$tc("Measurement",2)),1),t("div",S,[d(_,{modelValue:c.form.search,"onUpdate:modelValue":r[1]||(r[1]=s=>c.form.search=s),class:"w-full max-w-md ltr:mr-4 rtl:ml-4",onReset:n.reset},{default:f(()=>[t("label",I,o(e.$t("Trashed")),1),d(u,{modelValue:c.form.trashed,"onUpdate:modelValue":r[0]||(r[0]=s=>c.form.trashed=s),options:[{value:"",label:"Not Trashed"},{value:"with",label:e.$t("With Trashed")},{value:"only",label:e.$t("Only Trashed")}],reduce:s=>s.value},null,8,["modelValue","options","reduce"])]),_:1},8,["modelValue","onReset"]),d(y,{class:"btn-gray",href:e.route("measurements.create")},{default:f(()=>[t("span",A,[d(p,{name:"add",class:"w-4 h-4 fill-white group-hover:fill-white"})]),t("span",F,o(e.$t("create_x",{x:e.$tc("Measurement")})),1)]),_:1},8,["href"])]),t("div",P,[t("table",D,[t("thead",null,[t("tr",E,[t("th",R,o(e.$t("Name")),1),t("th",U,o(e.$tc("Service")),1),t("th",q,o(e.$tc("Customer")),1),t("th",J,o(e.$tc("Price")),1),t("th",W,o(e.$tc("Appointment Time")),1),t("th",z,o(e.$t("Description")),1)])]),t("tbody",null,[(l(!0),i(N,null,O(a.measurements.data,s=>(l(),i("tr",{key:s.id,onClick:ce=>n.rowClicked(s),class:"cursor-pointer hover:bg-teal-200 focus-within:bg-teal-200"},[t("td",H,[t("div",K,[T(o(s.name)+" ",1),s.deleted_at?(l(),B(p,{key:0,name:"trash",class:"flex-shrink-0 w-3 h-3 fill-gray-400 ltr:ml-2 rtl:mr-2"})):h("",!0)])]),t("td",Q,[s.service_id?(l(),i("div",X,o(s.service),1)):h("",!0)]),t("td",Y,[s.customer_id?(l(),i("div",Z,o(s.customer),1)):h("",!0)]),t("td",ee,[s.price?(l(),i("div",te,o(s.price),1)):h("",!0)]),t("td",se,[s.appointment?(l(),i("div",oe,o(s.appointment),1)):h("",!0)]),t("td",re,o(s.measurement),1),t("td",ne,[d(p,{name:"cheveron-right",class:"block w-6 h-6 fill-gray-400 rtl:rotate"})])],8,G))),128)),a.measurements.data.length===0?(l(),i("tr",le,[t("td",ae,o(e.$t("no_x_found",{x:e.$tc("Measurement")})),1)])):h("",!0)])])]),d(k,{links:a.measurements.links,meta:a.measurements.meta},null,8,["links","meta"])])}const we=C(L,[["render",ie]]);export{we as default};
