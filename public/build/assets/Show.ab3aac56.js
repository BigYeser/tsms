import{L as x,D as y}from"./Dropdown.8fb4fb80.js";import{_ as b,r as g,o,c as i,a as e,t as n,b as u,d as r,f as v,h as f}from"./app.19e578fb.js";const w={components:{Logo:x,Dropdown:y},props:{measurement:Object,modal:{default:!0},notify:{type:Boolean,default:!1}},metaInfo(){return{title:this.$t("Measurement Number",{x:this.measurement.id}),sending:!1,confirm:!1,send_sms:!1,emailing:!1,message:null,dialogButtonText:null,dialogAction:null,dialogTitle:null,dialogBody:null}},methods:{printMeasurement(){window.print()},editMeasurement(){this.$inertia.visit(this.route("measurements.edit",this.measurement.id)),this.$emit("close")},displayExtra(t){let l="";return Array.isArray(t)&&t.map((s,p)=>{for(let[h,a]of Object.entries(s)){if(l+="</tr>",a.includes("{")&&a.includes("}")&&a.includes(":")){l+=`<td class="w-32 border-b px-4 py-2"><strong>${h}</strong>:</td><td class="border-b px-4 py-2">`;const d=JSON.parse(a);for(let[_,m]of Object.entries(d))m&&(l+=_+" ");l+="</td>"}else l+=`<td class="w-32 border-b px-4 py-2"><strong>${h}</strong>:</td><td class="border-b px-4 py-2">${a}</td> `;l+="</tr>"}}),l},emailOrder(t){this.sending=!0,this.emailing=!0,this.$axios.post(this.route("measurements.email",t)).then(l=>{this.sending=!1,this.emailing=!1,this.message=l.data.message||this.$t("System is unable to sent email, either customer do not have email or system settings are not correct.")}).catch(l=>{this.sending=!1,this.emailing=!1,this.message=l.response.data.message||this.$t("Request has been failed, please check the logs in storage folder and contact developer.")})},hide(){this.$emit("close")}}},k={key:0,class:"w-full ltr:text-left rtl:text-right"},N={key:0,class:"np flex justify-between items-center px-6 py-4 mb-4 bg-gray-100 border-b rounded-t"},B={class:"font-bold"},C={class:"flex items-center"},D=e("svg",{class:"fill-current text-black",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},[e("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})],-1),M=[D],j={class:"print"},A={class:"max-w-2xl h-full py-4 px-6 leading-normal"},O={class:"flex flex-wrap xs:flex-no-wrap justify-around w-full items-start"},T={class:"text-gray-900 mx-auto xs:mx-0",style:{width:"180px"}},$=["alt","src"],L={class:"text-sm px-4 py-4 xs:py-0 text-center xs:text-left"},V={class:"font-extrabold"},E={class:"font-bold"},I={class:"text-sm"},S={class:"flex"},P=e("span",{class:"text-right ltr:mr-2 rtl:ml-2",style:{width:"90px"}},"No:",-1),q={class:"font-bold"},z={class:"flex"},J=e("span",{class:"text-right ltr:mr-2 rtl:ml-2",style:{width:"90px"}},"Date:",-1),R={class:"font-bold"},F={class:"inline-block"},G={id:"customer",class:"mt-6 w-full"},H={class:"px-2 py-2 border rounded-t font-bold"},K={class:"border rounded-b border-t-0 px-2 py-2"},Q={class:"flex"},U={class:"text-right ltr:mr-2 rtl:ml-2",style:{"min-width":"70px"}},W={key:0,class:"flex"},X={class:"text-right ltr:mr-2 rtl:ml-2",style:{"min-width":"70px"}},Y={class:"flex"},Z={class:"text-right ltr:mr-2 rtl:ml-2",style:{"min-width":"70px"}},ee={key:1,class:"flex"},te={class:"text-right ltr:mr-2 rtl:ml-2",style:{"min-width":"70px"}},se={id:"measurement",class:"mt-6 w-full"},ne={class:"px-2 py-2 border rounded-t font-bold"},le={class:"border rounded-b border-t-0 px-2 py-2"},oe={class:"flex"},ae={class:"text-right ltr:mr-2 rtl:ml-2",style:{"min-width":"70px"}},ie={key:0,class:"flex"},re={class:"text-right ltr:mr-2 rtl:ml-2",style:{"min-width":"70px"}},de={key:1,class:"flex"},me={class:"text-right ltr:mr-2 rtl:ml-2",style:{"min-width":"70px"}},ce={key:0,class:"pt-6"},ue={class:"font-bold"},he={key:1,class:"np block xs:flex items-end justify-between px-6 py-4 mt-4 bg-gray-100 border-t rounded-b"},_e={class:"m-1 xs:m-0"},ge=["disabled"],fe={key:0,class:"btn-spinner dark ltr:mr-2 rtl:ml-2"};function pe(t,l,s,p,h,a){const d=g("Icons"),_=g("logo"),m=g("Dialog");return s.measurement&&s.measurement.id?(o(),i("div",k,[s.modal?(o(),i("div",N,[e("p",B,n(t.$t("Measurement No",{x:s.measurement.id})),1),e("div",C,[e("a",{class:"modal-close mx-2 cursor-pointer text-gray-700 hover:text-gray-800",onClick:l[0]||(l[0]=c=>a.editMeasurement(s.measurement.id))},[u(d,{name:"pencil",class:"h-5 w-5 fill-current"})]),e("a",{class:"modal-close mx-2 cursor-pointer text-gray-700 hover:text-gray-800",onClick:l[1]||(l[1]=c=>a.printMeasurement())},[u(d,{name:"printer",class:"h-5 w-5 fill-current"})]),e("a",{class:"modal-close ml-2 cursor-pointer",onClick:l[2]||(l[2]=c=>t.$emit("close"))},M)])])):r("",!0),e("div",j,[e("div",A,[e("div",O,[e("div",T,[t.$page.props.user.account.logo_path?(o(),i("img",{key:0,alt:t.$page.props.user.account.name,src:t.$page.props.user.account.logo_path},null,8,$)):(o(),v(_,{key:1}))]),e("div",L,[e("div",V,n(s.measurement.account.name),1),e("div",E,n(s.measurement.account.phone),1),f(" "+n(s.measurement.account.email),1)]),e("div",I,[e("div",S,[P,e("span",q,n(s.measurement.id),1)]),e("div",z,[J,e("span",R,[e("span",F,n(s.measurement.appointment),1)])])])]),e("div",G,[e("div",H,n(t.$t("Customer Details")),1),e("div",K,[e("div",Q,[e("span",U,n(t.$t("Name"))+":",1),e("span",null,[e("strong",null,n(s.measurement.customer.name),1)])]),s.measurement.customer.address?(o(),i("div",W,[e("span",X,n(t.$t("Address"))+":",1),e("span",null,n(s.measurement.customer.address),1)])):r("",!0),e("div",Y,[e("span",Z,n(t.$t("Phone"))+":",1),e("span",null,n(s.measurement.customer.phone),1)]),s.measurement.customer.email?(o(),i("div",ee,[e("span",te,n(t.$t("Email"))+":",1),e("span",null,n(s.measurement.customer.email),1)])):r("",!0)])]),e("div",se,[e("div",ne,n(t.$t("Measurement Details")),1),e("div",le,[e("div",oe,[e("span",ae,n(t.$t("Name"))+":",1),e("span",null,[e("strong",null,n(s.measurement.name),1)])]),s.measurement.appointment?(o(),i("div",ie,[e("span",re,n(t.$t("Appointment Time"))+":",1),e("span",null,n(s.measurement.appointment),1)])):r("",!0),s.measurement.price?(o(),i("div",de,[e("span",me,n(t.$t("Price"))+":",1),e("span",null,n(s.measurement.price),1)])):r("",!0)])]),s.measurement.measurement?(o(),i("div",ce,[e("h4",ue,n(t.$t("Description")),1),e("p",null,n(s.measurement.measurement),1)])):r("",!0)])]),s.modal?(o(),i("div",he,[e("div",_e,[e("button",{disabled:t.sending,onClick:l[3]||(l[3]=c=>a.emailOrder(s.measurement.id)),class:"inline-flex items-center mt-1 px-4 py-3 text-sm rounded bg-gray-200 hover:bg-gray-400 border ltr:mr-2 rtl:ml-2"},[t.sending?(o(),i("div",fe)):r("",!0),f(" Notify ")],8,ge)]),e("button",{onClick:l[4]||(l[4]=c=>a.hide()),class:"btn-gray"},n(t.$t("Close")),1)])):r("",!0),u(m,{show:t.message,content:t.message,close:()=>t.message=null},null,8,["show","content","close"]),u(m,{show:t.confirm,close:()=>t.confirm=!1,"action-text":t.dialogButtonText,action:t.dialogAction,title:t.dialogTitle,content:t.dialogBody},null,8,["show","close","action-text","action","title","content"])])):r("",!0)}const be=b(w,[["render",pe]]);export{be as default};
