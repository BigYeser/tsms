import{p as x}from"./pickBy.3c80ea6b.js";import{L as g}from"./Layout.d6e8c5f8.js";import{t as v}from"./throttle.2c70202e.js";import{S as $,m as V}from"./SearchFilter.aafeb0a8.js";import{P as C}from"./Pagination.1ad9540f.js";import{_ as j,r as h,o as i,c,a as e,t as o,b as d,e as f,h as b,F as L,j as N,d as u,f as O}from"./app.f6ed7336.js";import"./debounce.92985e0d.js";import"./Dropdown.c0972a8e.js";import"./FlashMessages.de5b274d.js";const T={layout:g,components:{Pagination:C,SearchFilter:$},props:{measurements:Object,filters:Object},metaInfo(){return{title:this.$tc("Measurement",2)}},data(){return{form:{search:this.filters.search,trashed:this.filters.trashed}}},watch:{form:{handler:v(function(){let t=x(this.form);this.$inertia.replace(this.route("measurements",Object.keys(t).length?t:{remember:"forget"}))},250),deep:!0}},methods:{rowClicked(t){this.$inertia.visit(this.route("measurements.edit",t))},reset(){this.form=V(this.form,()=>null)},displayExtra(t){let r="";return Array.isArray(t)&&t.map((n,y)=>{for(let[a,l]of Object.entries(n))if(l&&l.includes("{")&&l.includes("}")&&l.includes(":")){r+=`<span class="inline-block"><strong>${a}</strong>: `;const _=JSON.parse(l);for(let[p,m]of Object.entries(_))m?r+=`<span class="inline-block text-green-600 ltr:mr-2 rtl:ml-2">&#10003; ${p},</span> `:r+=`<span class="inline-block text-red-500 ltr:mr-2 rtl:ml-2">&#10005; ${p},</span> `;r+="</span>"}else r+=`<span class="inline-block"><strong>${a}</strong>: ${l},</span> `}),r}}},M={class:"mb-6 mt-2 font-bold text-lg md:text-2xl"},B={class:"np mb-6 flex justify-between items-center"},S={class:"block text-gray-700"},F={class:"inline md:hidden"},I={class:"hidden md:inline"},E={class:"bg-white rounded shadow overflow-x-auto scroll-on-light"},A={class:"w-full whitespace-no-wrap leading-normal"},D={class:"text-left font-bold"},H={class:"px-6 pt-6 pb-4"},P={class:"px-6 pt-6 pb-4"},R={class:"px-6 pt-6 pb-4"},U={class:"px-6 pt-6 pb-4"},q={class:"px-6 pt-6 pb-4",colspan:"2"},J=["onClick"],W={class:"border-t px-6 py-4 w-56"},z={class:"flex items-center"},G={class:"border-t px-6 py-4 w-40"},K={key:0},Q={class:"border-t px-6 py-4 w-48"},X={key:0},Y={class:"border-t px-6 py-4 w-56 max-w-sm",style:{"min-width":"250px"}},Z=["innerHTML"],ee={class:"border-t px-6 py-4 max-w-lg truncate"},te={class:"border-t px-6 py-4 w-8"},se={key:0},oe={class:"border-t px-6 py-4",colspan:"5"};function re(t,r,n,y,a,l){const _=h("v-select"),p=h("search-filter"),m=h("Icons"),w=h("Link"),k=h("pagination");return i(),c("div",null,[e("h1",M,o(t.$tc("Measurement",2)),1),e("div",B,[d(p,{modelValue:a.form.search,"onUpdate:modelValue":r[1]||(r[1]=s=>a.form.search=s),class:"w-full max-w-md ltr:mr-4 rtl:ml-4",onReset:l.reset},{default:f(()=>[e("label",S,o(t.$t("Trashed")),1),d(_,{modelValue:a.form.trashed,"onUpdate:modelValue":r[0]||(r[0]=s=>a.form.trashed=s),options:[{value:"",label:"Not Trashed"},{value:"with",label:t.$t("With Trashed")},{value:"only",label:t.$t("Only Trashed")}],reduce:s=>s.value},null,8,["modelValue","options","reduce"])]),_:1},8,["modelValue","onReset"]),d(w,{class:"btn-gray",href:t.route("measurements.create")},{default:f(()=>[e("span",F,[d(m,{name:"add",class:"w-4 h-4 fill-white group-hover:fill-white"})]),e("span",I,o(t.$t("create_x",{x:t.$tc("Measurement")})),1)]),_:1},8,["href"])]),b(" "+o(n.measurements)+" ",1),e("div",E,[e("table",A,[e("thead",null,[e("tr",D,[e("th",H,o(t.$t("Name")),1),e("th",P,o(t.$tc("Service")),1),e("th",R,o(t.$tc("Customer")),1),e("th",U,o(t.$tc("Field",2)),1),e("th",q,o(t.$t("Description")),1)])]),e("tbody",null,[(i(!0),c(L,null,N(n.measurements.data,s=>(i(),c("tr",{key:s.id,onClick:le=>l.rowClicked(s.id),class:"cursor-pointer hover:bg-teal-200 focus-within:bg-teal-200"},[e("td",W,[e("div",z,[b(o(s.name)+" ",1),s.deleted_at?(i(),O(m,{key:0,name:"trash",class:"flex-shrink-0 w-3 h-3 fill-gray-400 ltr:ml-2 rtl:mr-2"})):u("",!0)])]),e("td",G,[s.service?(i(),c("div",K,o(s.service.name),1)):u("",!0)]),e("td",Q,[s.customer?(i(),c("div",X,o(s.customer.name),1)):u("",!0)]),e("td",Y,[e("span",{class:"whitespace-normal",innerHTML:l.displayExtra(s.extra_attributes)},null,8,Z)]),e("td",ee,o(s.measurement),1),e("td",te,[d(m,{name:"cheveron-right",class:"block w-6 h-6 fill-gray-400 rtl:rotate"})])],8,J))),128)),n.measurements.data.length===0?(i(),c("tr",se,[e("td",oe,o(t.$t("no_x_found",{x:t.$tc("Measurement")})),1)])):u("",!0)])])]),d(k,{links:n.measurements.links,meta:n.measurements.meta},null,8,["links","meta"])])}const _e=j(T,[["render",re]]);export{_e as default};
