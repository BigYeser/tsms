import{p as k}from"./pickBy.698e36b3.js";import{L as w}from"./Layout.4e342ec5.js";import{t as v}from"./throttle.a084a088.js";import{S as x,m as $}from"./SearchFilter.ae91f8d8.js";import{P as V}from"./Pagination.4e5f1aa0.js";import{M as j}from"./Modal.ad804f34.js";import C from"./Show.eba43efa.js";import{m as M}from"./md5.2ef7b393.js";import{_ as T,r as h,o as n,c as i,a as e,t as o,b as d,e as f,F as B,j as N,d as m,h as O,f as L}from"./app.75d0cc91.js";import"./debounce.a7d2ee62.js";import"./Dropdown.588b5eb7.js";import"./FlashMessages.47cad8a1.js";const S={layout:w,components:{Pagination:V,SearchFilter:x,Modal:j,MeasurementComponent:C},props:{measurements:Object,filters:Object},metaInfo(){return{title:this.$tc("Measurement",2)}},data(){return{form:{search:this.filters.search,trashed:this.filters.trashed},sending:!1,confirm:!1,send_sms:!1,emailing:!1,message:null,dialogButtonText:null,dialogAction:null,dialogTitle:null,dialogBody:null,viewMeasurement:!1}},watch:{form:{handler:v(function(){let t=k(this.form);this.$inertia.replace(this.route("measurements",Object.keys(t).length?t:{remember:"forget"}))},250),deep:!0}},methods:{rowClicked(t){fetch(this.route("measurements.show",[t.id,M.exports(t.name)])+"?ajax=1").then(l=>{l.json().then(a=>{this.measurement=a,this.viewMeasurement=!0})})},reset(){this.form=$(this.form,()=>null)},displayExtra(t){let l="";return Array.isArray(t)&&t.map((a,b)=>{for(let[c,r]of Object.entries(a))if(r&&r.includes("{")&&r.includes("}")&&r.includes(":")){l+=`<span class="inline-block"><strong>${c}</strong>: `;const _=JSON.parse(r);for(let[u,p]of Object.entries(_))p?l+=`<span class="inline-block text-green-600 ltr:mr-2 rtl:ml-2">&#10003; ${u},</span> `:l+=`<span class="inline-block text-red-500 ltr:mr-2 rtl:ml-2">&#10005; ${u},</span> `;l+="</span>"}else l+=`<span class="inline-block"><strong>${c}</strong>: ${r},</span> `}),l}}},A={class:"mb-6 mt-2 font-bold text-lg md:text-2xl"},I={class:"np mb-6 flex justify-between items-center"},F={class:"block text-gray-700"},P={class:"inline md:hidden"},D={class:"hidden md:inline"},E={class:"bg-white rounded shadow overflow-x-auto scroll-on-light"},R={class:"w-full whitespace-no-wrap leading-normal"},U={class:"text-left font-bold"},q={class:"px-6 pt-6 pb-4"},J={class:"px-6 pt-6 pb-4"},W={class:"px-6 pt-6 pb-4"},z={class:"px-6 pt-6 pb-4"},G={class:"px-6 pt-6 pb-4"},H={class:"px-6 pt-6 pb-4",colspan:"2"},K=["onClick"],Q={class:"border-t px-6 py-4 w-56"},X={class:"flex items-center"},Y={class:"border-t px-6 py-4 w-40"},Z={key:0},ee={class:"border-t px-6 py-4 w-48"},te={key:0},se={class:"border-t px-6 py-4 w-48"},oe={key:0},le={class:"border-t px-6 py-4 w-48"},re={key:0},ne={class:"border-t px-6 py-4 max-w-lg truncate"},ae={class:"border-t px-6 py-4 w-8"},ie={key:0},ce={class:"border-t px-6 py-4",colspan:"5"};function de(t,l,a,b,c,r){const _=h("v-select"),u=h("search-filter"),p=h("Icons"),y=h("Link"),g=h("pagination");return n(),i("div",null,[e("h1",A,o(t.$tc("Measurement",2)),1),e("div",I,[d(u,{modelValue:c.form.search,"onUpdate:modelValue":l[1]||(l[1]=s=>c.form.search=s),class:"w-full max-w-md ltr:mr-4 rtl:ml-4",onReset:r.reset},{default:f(()=>[e("label",F,o(t.$t("Trashed")),1),d(_,{modelValue:c.form.trashed,"onUpdate:modelValue":l[0]||(l[0]=s=>c.form.trashed=s),options:[{value:"",label:"Not Trashed"},{value:"with",label:t.$t("With Trashed")},{value:"only",label:t.$t("Only Trashed")}],reduce:s=>s.value},null,8,["modelValue","options","reduce"])]),_:1},8,["modelValue","onReset"]),d(y,{class:"btn-gray",href:t.route("measurements.create")},{default:f(()=>[e("span",P,[d(p,{name:"add",class:"w-4 h-4 fill-white group-hover:fill-white"})]),e("span",D,o(t.$t("create_x",{x:t.$tc("Measurement")})),1)]),_:1},8,["href"])]),e("div",E,[e("table",R,[e("thead",null,[e("tr",U,[e("th",q,o(t.$t("Name")),1),e("th",J,o(t.$tc("Service")),1),e("th",W,o(t.$tc("Customer")),1),e("th",z,o(t.$tc("Price")),1),e("th",G,o(t.$tc("Appointment Time")),1),e("th",H,o(t.$t("Description")),1)])]),e("tbody",null,[(n(!0),i(B,null,N(a.measurements.data,s=>(n(),i("tr",{key:s.id,onClick:me=>r.rowClicked(s),class:"cursor-pointer hover:bg-teal-200 focus-within:bg-teal-200"},[e("td",Q,[e("div",X,[O(o(s.name)+" ",1),s.deleted_at?(n(),L(p,{key:0,name:"trash",class:"flex-shrink-0 w-3 h-3 fill-gray-400 ltr:ml-2 rtl:mr-2"})):m("",!0)])]),e("td",Y,[s.service_id?(n(),i("div",Z,o(s.service),1)):m("",!0)]),e("td",ee,[s.customer_id?(n(),i("div",te,o(s.customer),1)):m("",!0)]),e("td",se,[s.price?(n(),i("div",oe,o(s.price),1)):m("",!0)]),e("td",le,[s.appointment?(n(),i("div",re,o(s.appointment),1)):m("",!0)]),e("td",ne,o(s.measurement),1),e("td",ae,[d(p,{name:"cheveron-right",class:"block w-6 h-6 fill-gray-400 rtl:rotate"})])],8,K))),128)),a.measurements.data.length===0?(n(),i("tr",ie,[e("td",ce,o(t.$t("no_x_found",{x:t.$tc("Measurement")})),1)])):m("",!0)])])]),d(g,{links:a.measurements.links,meta:a.measurements.meta},null,8,["links","meta"])])}const $e=T(S,[["render",de]]);export{$e as default};
